(this.webpackJsonpygocarder=this.webpackJsonpygocarder||[]).push([[0],{152:function(e,t,n){},153:function(e,t,n){},156:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),i=n.n(c),o=(n(152),n(11)),l=n(35),s=n(22),u=n.n(s),d=n(36),f=n(9),h=(n(153),n(154),{fillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,globalAlpha:1}),b={atk:"100",attribute:"DARK",frame:"effect",subFamily:"Level",def:"2000",type_ability:["Dragon","Pendulum","Effect"],effect:'["Blue-Eyes White Dragon" + "Blue-Eyes White Dragon" + "Blue-Eyes White Dragon"]\nYour opponent cannot target or destroy this card with card effects. Once per turn: You can target 1 card your opponent controls; destroy it.\n\u25cf If this card was Fusion Summoned using a monster whose original name is "Blue-Eyes Alternative White Dragon" as material, you can target up to 3 cards your opponent controls instead.\n\u25cf This card cannot attack the turn this effect is activated.\n(This card is always treated as "Blue-Eyes Ultimate Dragon")',link_map:["1","2","3","8","9"],name:"B.F.A - U3 \u201cEden\u201d",nameStyleType:"auto",nameStyle:{fillStyle:"#000000",shadowColor:"#000000",shadowOffsetY:0,shadowOffsetX:0,shadowBlur:0,globalAlpha:1},passcode:"24907043",foil:"normal",sticker:"holo2",isPendulum:!0,pendulum_effect:'You can pay 1000 LP; add 1 "Abyss Actor" Pendulum Monster from your Deck to your hand, except "Abyss Actor - Mellow Madonna", also you cannot Special Summon monsters for the rest of this turn, except "Abyss Actor" Pendulum Monsters (even if this card leaves the field). You can only use this effect of "Abyss Actor - Mellow Madonna" once per turn.',red_scale:"0",blue_scale:"13",picture:"https://scontent.fsgn2-6.fna.fbcdn.net/v/t1.0-9/165851102_3703072819802446_2677153091621164666_o.jpg?_nc_cat=109&ccb=1-3&_nc_sid=730e14&_nc_ohc=qA4t3mN92dQAX_RST5K&_nc_ht=scontent.fsgn2-6.fna&oh=16d439f4c142f27cf716c1d70bc80b22&oe=6085E577",pictureCrop:{x:0,y:0,width:100,height:100,aspect:1,unit:"px"},set_id:"ROTD-EN081",star:4,isFirstEdition:!0,creator:"\xa92020 Studio Dice/SHUEISHA TV TOKYO, KONAMI"},p=[{name:"normal",color:"#fff",backgroundColor:"#c49c5e"},{name:"effect",color:"#fff",backgroundColor:"#b96c49"},{name:"fusion",color:"#fff",backgroundColor:"#8948a4"},{name:"synchro",color:"#000",backgroundColor:"#efefef"},{name:"xyz",color:"#fff",backgroundColor:"#000"},{name:"link",color:"#fff",backgroundColor:"#0c8ac6"},{name:"ritual",color:"#fff",backgroundColor:"#5e85c9"},{name:"spell",color:"#fff",backgroundColor:"#1b8f83"},{name:"trap",color:"#fff",backgroundColor:"#c32a8c"},{name:"token",color:"#fff",backgroundColor:"#6f6c6b"}],j=["NO ICON","FIELD","CONTINUOUS","QUICK-PLAY","RITUAL","COUNTER"],m=function(e){return"xyz"===e.frame},v=function(e){return"link"===e.frame&&g(e)},g=function(e){return"spell"!==e.frame&&"trap"!==e.frame},x=function(e){var t,n;return null!==(t=null===(n=p.find((function(t){return t.name===e.toLowerCase()})))||void 0===n?void 0:n.name)&&void 0!==t?t:"effect"},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=e,a=t,r=a,c=r,i=30,o=100,l=function(){return 1===o?m():(r+=o,r-=o/=10),Math.min(r,a)},s=function(){return i-=1,r-=o},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;n=e,a=t,r=t,i=30,o=100,c=t},d=function(){return r},f=function(e){return r=e},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return c=e},b=function(){return c},p=function(){return i=-1,r=c},j=function(){return i},m=function(){return i=-1};return{reset:u,searchDown:s,reverseSearch:l,finish:m,getMedian:d,setMedian:f,setLastEffective:h,getLastEffective:b,applyLastEffective:p,getIterateCount:j}},w=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="",a=e.length,r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*a));return n},C=function(){return"".concat(w("ABCDEFGHIJKLMNOPQRSTUVWXYZ",4),"-EN").concat(w("0123456789",3))},y=function(){return"".concat(w("0123456789",8))},k=function(e){var t,n,a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=e,i="",o=/^(\[([^\]]*)\]\s*)/m,l=null===(t=o.exec(c))||void 0===t?void 0:t[1],s=null===(n=o.exec(c))||void 0===n?void 0:n[2];s&&l?(i=s,c=c.replace(l,"")):i="";var u="",d=/(\n^[\r\t\f\v \u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*\([\w\W]+\))\s*$/m,f=null===(a=d.exec(e))||void 0===a?void 0:a[1];return f&&r?(u=f,c=c.replace(f,"")):u="",{material:i,body:c,flavorCondition:u}},S=function(e){var t=null!==e&&void 0!==e?e:"";return t=t.replace(/(^|[-\u2014\s(["])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/[(\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/--/g,"\u2014")},T=n(64),R=n(273),N=n(145),E=n(275),I=n(276),A=n(144),P=n(124),F=n.n(P),L=(n(155),n(156),n(1));var M=function(e){var t=e.noRedrawNumber,n=void 0===t?0:t,r=e.defaultExternalSource,c=void 0===r?"":r,i=e.previewCanvasRef,l=e.children,s=e.ratio,u=void 0===s?1:s,d=e.defaultCropInfo,h=e.onSourceChange,b=void 0===h?function(){}:h,p=e.onImageChange,j=void 0===p?function(){}:p,m=Object(a.useState)("external"),v=Object(f.a)(m,2),g=v[0],x=v[1],O=Object(a.useState)(""),w=Object(f.a)(O,2),C=w[0],y=w[1],k=Object(a.useState)(c),S=Object(f.a)(k,2),T=S[0],N=S[1],I=Object(a.useRef)(null),P=Object(a.useState)(d),M=Object(f.a)(P,2),B=M[0],_=M[1],z=Object(a.useState)(null),D=Object(f.a)(z,2),U=D[0],H=D[1],W=Object(a.useCallback)((function(e){I.current=e}),[]);return Object(a.useEffect)((function(){var e,t,n,a,r=I.current,c=i,o=U;if(o&&c&&r){var l=c.getContext("2d");if(l){var s=r.naturalWidth/r.width,u=r.naturalHeight/r.height,d=window.devicePixelRatio,f=Math.ceil(c.getBoundingClientRect().width),h=Math.ceil(c.getBoundingClientRect().height);c.width=(null!==f&&void 0!==f?f:0)*d,c.height=(null!==h&&void 0!==h?h:0)*d,l.setTransform(d,0,0,d,0,0),l.imageSmoothingQuality="high",l.drawImage(r,(null!==(e=o.x)&&void 0!==e?e:0)*s,(null!==(t=o.y)&&void 0!==t?t:0)*u,(null!==(n=o.width)&&void 0!==n?n:0)*s,(null!==(a=o.height)&&void 0!==a?a:0)*u,0,0,null!==f&&void 0!==f?f:0,null!==h&&void 0!==h?h:0),j(o)}}}),[U,i,n]),Object(L.jsxs)("div",{className:"card-image-cropper",children:[Object(L.jsxs)("div",{className:"card-image-source-input",children:[l,Object(L.jsxs)(E.a.Group,{onChange:function(e){return x(e.target.value)},value:g,children:[Object(L.jsx)(E.a.Button,{value:"external",children:Object(L.jsx)(R.a,{addonBefore:"Link",placeholder:"https://my-online-image...",value:T,onChange:function(e){var t=e.target.value;b(t),N(t)},maxLength:256},"key")}),Object(L.jsxs)(E.a.Button,{value:"internal",children:[Object(L.jsx)(R.a,{type:"file",accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){"string"===typeof t.result&&(y(t.result),x("internal"))})),t.readAsDataURL(e.target.files[0])}}}),Object(L.jsx)("div",{children:"internal"===g&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(A.a,{className:"download-button",disabled:!(null===U||void 0===U?void 0:U.width)||!(null===U||void 0===U?void 0:U.height),onClick:function(){return i&&function(e,t){t&&e&&e.toBlob((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.download="cropPreview.png",n.href=URL.createObjectURL(e),n.click(),window.URL.revokeObjectURL(t)}),"image/png",1)}(i,U)},children:"Download cropped image"}),Object(L.jsx)("span",{style:{color:"#FF6F6F"},children:"Offline images are not auto saved!"})]})})]})]})]}),Object(L.jsx)("div",{className:"card-cropper",children:Object(L.jsx)(F.a,{src:"internal"===g?C:T,onImageLoaded:W,crop:B,onChange:function(e){return _(Object(o.a)(Object(o.a)({},e),{},{aspect:u}))},onComplete:function(e){return H(e)},ruleOfThirds:!0},g)})]})},B=(n(159),function(e){var t=e.defaultValue,n=void 0===t?[]:t,r=e.onChange,c=void 0===r?function(){}:r,i=Object(a.useState)(n),o=Object(f.a)(i,2),s=o[0],u=o[1],d=[-45,0,45,-90,0,90,-135,180,135],h=JSON.stringify(s);return Object(a.useEffect)((function(){c(s)}),[h]),Object(L.jsxs)("div",{className:"link-marker-chooser",children:[Object(L.jsx)("div",{className:"title",children:"Link Arrows"}),Object(L.jsx)("div",{className:"container",children:Object(l.a)(Array(9)).map((function(e,t){var n="".concat(t+1);return"5"===n?Object(L.jsx)(N.a,{overlay:"Reset",children:Object(L.jsx)("div",{className:"link-marker-reset",onClick:function(){u([])},children:"R"})},"5"):Object(L.jsx)("div",{className:"link-marker-button marker-".concat(t+1," ").concat(s.includes(n)?"marker-checked":""),onClick:function(){u((function(e){var t=Object(l.a)(e);return t.includes(n)?t=t.filter((function(e){return e!==n})):t.push(n),t}))},children:Object(L.jsx)("div",{className:"link-marker-icon link-marker-icon-".concat(t+1),style:{transform:"rotate(".concat(d[t],"deg)")}})},n)}))})]})}),_=n(52),z=n(280),D=(n(98),E.a.Button),U=[{name:"normal",color:"#747b95"},{name:"gold",color:"#cfa65f"},{name:"platinum",color:"#b1b1b1"}].map((function(e){var t=e.color,n=e.name;return Object(L.jsx)(D,{value:n,style:{color:t,fontWeight:"bold"},children:n.toLocaleUpperCase()},n)})),H=p.map((function(e){var t=e.color,n=e.name,a=e.backgroundColor;return Object(L.jsx)(D,{value:n,style:{backgroundColor:a,color:t},children:n},n)})),W=[{name:"DARK",color:"#b41dda"},{name:"EARTH",color:"#8d8e8e"},{name:"FIRE",color:"#e51b23"},{name:"LIGHT",color:"#bfae32"},{name:"WATER",color:"#008ecd"},{name:"WIND",color:"#28ab35"},{name:"DIVINE",color:"#ef6300"},{name:"SPELL",color:"#1b8f83"},{name:"TRAP",color:"#c32a8c"}].map((function(e){var t=e.name;return Object(L.jsx)(D,{value:t,children:Object(L.jsx)("img",{alt:t,src:"".concat("/ygocarder","/asset/image/attribute/attr-").concat(t.toLowerCase(),".png")})},t)})),G=j.map((function(e){return Object(L.jsx)(D,{value:e,children:e},e)})),Y=Object(l.a)(Array(14)).map((function(e,t){return Object(L.jsx)(D,{value:"".concat(t),children:"".concat(t)},"".concat(t))})),K=["gold","silver","beta","holo5","holo4","holo3","holo2","holo1"].map((function(e){return Object(L.jsx)(D,{value:e,children:Object(L.jsx)("img",{alt:e,src:"".concat("/ygocarder","/asset/image/sticker/sticker-").concat(e.toLowerCase(),".png")})},e)})),V=n(143),q=n(278);n(160);var J=function(e){var t=e.targetId,n=void 0===t?"":t,r=e.onPick,c=void 0===r?function(){}:r,i=Object(a.useState)(null),o=Object(f.a)(i,2),l=o[0],s=o[1],u=function(e){var t=document.getElementById(n);if(t){var a=function(e,t){if(document.selection)return e.focus(),document.selection.createRange().text=t,{value:e.value,position:0};if(e.selectionStart||0===e.selectionStart){var n=e.selectionStart,a=e.selectionEnd;return e.value=e.value.substring(0,n)+t+e.value.substring(a,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.focus(),{value:e.value,position:n+t.length}}return e.value+=t,{value:e.value,position:0}}(t,e).value;c(a)}};Object(a.useEffect)((function(){s(document.getElementById("char-picker"))}),[]);var d=Object(a.useCallback)((function(e){var t=e.target,n=e.left,a=e.top,r=e.transform;t.style.left="".concat(n,"px"),t.style.top="".concat(a,"px"),t.style.transform=r}),[]);return Object(L.jsxs)("div",{className:"char-picker-container",children:[Object(L.jsxs)("div",{id:"char-picker",className:"char-picker",children:[Object(L.jsx)("div",{className:"handler",children:Object(L.jsx)(q.a,{})}),["\u221e","\u2606","\u25cf","\xa9","\u2122","\u2c6f"].map((function(e){return Object(L.jsx)("button",{className:"ant-btn",onClick:function(){return u(e)},children:e},e)}))]}),Object(L.jsx)(V.a,{target:l,container:null,edge:!1,draggable:!0,throttleDrag:0,onDrag:d})]})},Q=n(141),X=n(279),Z=(n(269),r.a.memo((function(e){var t=e.defaultType,n=e.defaultValue,r=e.onChange,c=Object(a.useState)(t),i=Object(f.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(n),d=Object(f.a)(u,2),h=d[0],b=d[1],p=Object(a.useState)(!1),j=Object(f.a)(p,2),m=j[0],v=j[1];return Object(L.jsxs)("div",{className:"style-picker",children:[Object(L.jsx)("div",{className:"style-picker-preview",onClick:function(){return v((function(e){return!e}))},children:Object(L.jsx)("div",{className:"style-picker-display",style:{background:"".concat("auto"===l?"white":h.fillStyle)},children:"auto"===l?"Auto":Object(L.jsx)(L.Fragment,{children:"\xa0"})})}),m?Object(L.jsxs)("div",{className:"style-picker-overlay",style:{position:"absolute",zIndex:2},children:[Object(L.jsx)("div",{className:"style-picker-mask",onClick:function(){return v(!1)}}),Object(L.jsxs)("div",{className:"style-picker-auto",children:[Object(L.jsx)(I.a,{value:"auto",checked:"auto"===l,onChange:function(){var e="auto"===l?"custom":"auto";s(e),r(e,h)},children:"Auto"}),Object(L.jsx)(X.a,{className:"style-picker-close",onClick:function(){return v(!1)}})]}),Object(L.jsxs)("div",{className:"custom-style-picker",children:["auto"===l&&Object(L.jsx)("div",{className:"disable-overlay"}),Object(L.jsx)("h2",{children:"Text Color"}),Object(L.jsx)(Q.a,{color:h.fillStyle,onChange:function(e){s("custom"),b((function(t){var n=Object(o.a)(Object(o.a)({},t),{},{fillStyle:e.hex});return r("custom",n),n}))}})]})]}):null]})}),(function(){return!0}))),$=R.a.TextArea,ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(a){t((function(t){var r;return Object(o.a)(Object(o.a)({},t),{},Object(T.a)({},e,n("string"===typeof a||Array.isArray(a)?a:null===a||void 0===a||null===(r=a.target)||void 0===r?void 0:r.value)))}))}},te=function(e){var t=e.seeder,n=e.onGenerate;return Object(L.jsx)("span",{style:{marginLeft:10,paddingLeft:10,borderLeft:"1px solid #222"},children:Object(L.jsx)(N.a,{overlay:"Random",children:Object(L.jsx)(z.a,{onClick:function(){return n(t())}})})})},ne=function(e){var t=e.currentCard,n=e.receivingCanvasRef,r=e.defaultCropInfo,c=e.onCardChange,i=e.onImageChange,l=e.children,s=Object(a.useState)(!0),u=Object(f.a)(s,2),d=u[0],h=u[1],b=function(e){c((function(t){return e(t)}))},p=ee("foil",b),j=ee("attribute",b),x=ee("subFamily",b),O=Object(_.debounce)(ee("name",b),250),w=ee("star",b),k=ee("picture",b),S=ee("link_map",b),T=ee("red_scale",b),N=ee("blue_scale",b),A=Object(_.debounce)(ee("pendulum_effect",b),250),P=Object(_.debounce)(ee("effect",b),250),F=ee("atk",b),z=ee("def",b),D=Object(_.debounce)((function(e){b((function(t){return Object(o.a)(Object(o.a)({},t),{},{type_ability:e.map((function(e){return"".concat(e)}))})}))}),250),V=ee("set_id",b),q=ee("passcode",b),Q=ee("sticker",b),X=ee("creator",b),ne=t.frame,ae=t.foil,re=t.name,ce=t.nameStyleType,ie=t.nameStyle,oe=t.picture,le=t.effect,se=t.type_ability,ue=t.isPendulum,de=t.pendulum_effect,fe=t.red_scale,he=t.blue_scale,be=t.atk,pe=t.def,je=t.link_map,me=t.attribute,ve=t.subFamily,ge=t.star,xe=t.set_id,Oe=t.passcode,we=t.isFirstEdition,Ce=t.creator,ye=t.sticker,ke=m(t),Se=v(t),Te=g(t),Re=Object(a.useState)(se.join("/")),Ne=Object(f.a)(Re,2),Ee=Ne[0],Ie=Ne[1],Ae=Object(a.useState)(re),Pe=Object(f.a)(Ae,2),Fe=Pe[0],Le=Pe[1],Me=Object(a.useState)(le),Be=Object(f.a)(Me,2),_e=Be[0],ze=Be[1],De=Object(a.useState)(de),Ue=Object(f.a)(De,2),He=Ue[0],We=Ue[1],Ge=Object(a.useState)(""),Ye=Object(f.a)(Ge,2),Ke=Ye[0],Ve=Ye[1],qe=Object(a.useRef)();return Object(L.jsxs)("div",{className:"card-info-panel",children:[l,Object(L.jsx)(J,{targetId:Ke,onPick:function(e){var t,n,a;qe.current&&(null===(t=qe.current)||void 0===t||null===(n=t.props)||void 0===n||null===(a=n.onChange)||void 0===a||a.call(n,{target:{value:e}}))}}),Object(L.jsxs)(E.a.Group,{className:"foil-radio checkbox-train",value:ae,onChange:p,children:[Object(L.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:Object(L.jsx)("span",{children:"Foil"})}),U]}),Object(L.jsx)(E.a.Group,{className:"frame-radio",value:ne,onChange:function(e){c((function(t){var n,a=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value,r="spell"===a||"trap"===a;return Object(o.a)(Object(o.a)({},t),{},{frame:a,isPendulum:"link"!==a&&"token"!==a&&!r&&t.isPendulum,subFamily:r?"NO ICON":t.subFamily})}))},children:H}),Object(L.jsx)("hr",{}),Object(L.jsxs)("div",{className:"card-header custom-gap",children:[Object(L.jsx)(R.a,{id:"name",ref:"name"===Ke?qe:null,onFocus:function(){return Ve("name")},allowClear:!0,addonBefore:Object(L.jsxs)(L.Fragment,{children:["Name ",Object(L.jsx)(Z,{defaultType:ce,defaultValue:ie,onChange:function(e,t){c((function(n){return Object(o.a)(Object(o.a)({},n),{},{nameStyleType:e,nameStyle:t})}))}})]}),placeholder:"Card Name",value:Fe,className:"name-input",onChange:function(e){O(e),Le(e.target.value)}}),Te?Se?null:Object(L.jsxs)(E.a.Group,{className:"checkbox-train",value:"".concat(ge),onChange:w,children:[Object(L.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:Object(L.jsx)("span",{children:ke?"Rank":"Level"})}),Y]}):Object(L.jsxs)(E.a.Group,{className:"checkbox-train",value:ve,onChange:x,children:[Object(L.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:Object(L.jsx)("span",{children:"Icon"})}),G]}),Object(L.jsxs)(E.a.Group,{className:"checkbox-image-train checkbox-train",value:me,onChange:j,children:[Object(L.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:Object(L.jsx)("span",{children:"Attribute"})}),W]})]}),Object(L.jsxs)("div",{className:"main-info",children:[Object(L.jsxs)("div",{className:"main-info-first",children:[Object(L.jsx)(R.a,{id:"set-id",ref:"set-id"===Ke?qe:null,onFocus:function(){return Ve("set-id")},allowClear:!0,className:"set-id-input",addonBefore:Object(L.jsxs)(L.Fragment,{children:["Set ID",Object(L.jsx)(te,{seeder:C,onGenerate:V})]}),onChange:V,placeholder:"Set ID",value:xe}),Te&&"link"!==ne&&"token"!==ne&&Object(L.jsxs)("div",{className:"pendulum-container",children:[Object(L.jsxs)("div",{className:"joined-row",children:[Object(L.jsx)(I.a,{onChange:function(e){return c((function(t){return Object(o.a)(Object(o.a)({},t),{},{isPendulum:e.target.checked})}))},checked:ue,children:"Is Pendulum?"}),ue&&Object(L.jsx)(I.a,{onChange:function(e){return h(e.target.checked)},checked:d,children:"Mirror Scale?"})]}),ue&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{children:Object(L.jsx)(R.a,{addonBefore:Object(L.jsxs)("span",{children:[Object(L.jsx)("span",{style:{color:"#3b9dff"},children:"Blue"})," Scale"]}),value:he,onChange:function(e){N(e),d&&T(e)}},"blue-scale")}),Object(L.jsx)("div",{children:Object(L.jsx)(R.a,{addonBefore:Object(L.jsxs)("span",{children:[Object(L.jsx)("span",{style:{color:"#ff6f6f"},children:"Red"})," Scale"]}),value:fe,onChange:function(e){d&&N(e),T(e)}},"red-scale")}),Object(L.jsx)("div",{className:"joined-row",style:{position:"relative"},children:Object(L.jsx)($,{id:"pendulum-effect",ref:"pendulum-effect"===Ke?qe:null,onFocus:function(){return Ve("pendulum-effect")},allowClear:!0,placeholder:"Pendulum effect",value:He,onChange:function(e){A(e),We(e.target.value)},rows:6},"pendulum-effect")})]})]}),Object(L.jsx)(R.a,{addonBefore:"Type",id:"type",ref:"type"===Ke?qe:null,onFocus:function(){return Ve("type")},allowClear:!0,className:"hide-selected",onChange:function(e){var t=e.target.value;Ie(t),D(t.split("/").map((function(e){return e.trim()})).filter((function(e){return"string"===typeof e&&e.length>0})))},placeholder:"Type / Ability",style:{width:"100%"},value:Ee}),Object(L.jsx)($,{id:"card-effect",ref:"card-effect"===Ke?qe:null,onFocus:function(){return Ve("card-effect")},allowClear:!0,placeholder:"Card effect",value:_e,rows:10,onChange:function(e){P(e),ze(e.target.value)}},"effect"),Object(L.jsxs)("div",{className:"card-footer-input",children:[Te?Object(L.jsx)(R.a,{id:"atk",ref:"atk"===Ke?qe:null,onFocus:function(){return Ve("atk")},addonBefore:"ATK",allowClear:!0,value:be,onChange:F},"atk"):Object(L.jsx)("div",{}),Te?Object(L.jsx)(R.a,{id:"def",ref:"def"===Ke?qe:null,onFocus:function(){return Ve("def")},addonBefore:"DEF",allowClear:!0,value:pe,onChange:z},"def"):Object(L.jsx)("div",{}),Object(L.jsx)(R.a,{id:"password",ref:"password"===Ke?qe:null,onFocus:function(){return Ve("password")},allowClear:!0,className:"password-input",addonBefore:Object(L.jsxs)(L.Fragment,{children:["Password",Object(L.jsx)(te,{seeder:y,onGenerate:q})]}),onChange:q,placeholder:"Password",value:Oe}),Object(L.jsx)(I.a,{className:"input-1st",onChange:function(e){return c((function(t){return Object(o.a)(Object(o.a)({},t),{},{isFirstEdition:e.target.checked})}))},checked:we,children:"Is 1st Edition?"}),Object(L.jsx)(R.a,{addonBefore:"Creator",id:"creator",ref:"creator"===Ke?qe:null,onFocus:function(){return Ve("creator")},allowClear:!0,className:"creator-input",onChange:X,placeholder:"Creator",value:Ce}),Object(L.jsxs)(E.a.Group,{className:"sticker-input checkbox-image-train checkbox-train",value:ye,onChange:Q,children:[Object(L.jsx)("label",{className:"standalone-addon ant-input-group-addon",children:Object(L.jsx)("span",{children:"Sticker"})}),K]})]})]}),Object(L.jsx)("div",{className:"main-info-second",children:Object(L.jsx)(M,{noRedrawNumber:1,defaultExternalSource:oe,defaultCropInfo:r,previewCanvasRef:n,onSourceChange:k,onImageChange:i,children:Se?Object(L.jsx)(B,{defaultValue:je,onChange:S}):Object(L.jsx)("div",{})})})]},"pic")]})},ae=[{fontSize:17,lineHeight:17,lineCount:6},{fontSize:14,lineHeight:14,lineCount:7},{fontSize:12,lineHeight:12,lineCount:8},{fontSize:11,lineHeight:11,lineCount:9},{fontSize:10,lineHeight:10,lineCount:10},{fontSize:9,lineHeight:9,lineCount:11},{fontSize:8,lineHeight:8,lineCount:12}],re=[{width:463,top:620,left:43.89},{width:463,top:624,left:43.89},{width:463,top:624,left:43.89},{width:463,top:624,left:43.89},{width:463,top:624,left:43.89},{width:463,top:624,left:43.89},{width:463,top:624,left:43.89}],ce=[{fontSize:16.41,lineHeight:16.44,lineCount:5},{fontSize:16.41,lineHeight:16.44,lineCount:5}],ie=[{width:375,top:504.5,left:87.05},{width:375,top:504.5,left:87.05}],oe=[{fontSize:16.41,lineHeight:16.74,lineCount:8},{fontSize:13.46,lineHeight:14.28,lineCount:10}],le=[{width:461,top:601,left:45},{width:461,top:601,left:45}],se={small:{top:622,left:43,bracketSize:{char:18.71,bracketSpace:8.51,bracketOffsetTop:1.64},upperCaseSize:20,upperCaseScale:1,lowerCaseSize:16,lowerCaseScale:1.1,spaceScale:1,spaceSize:{frontSpace:5,char:21,behindSpace:15},iconSpace:0},medium:{top:620.8,left:43,bracketSize:{char:19.69,bracketSpace:8.51,bracketOffsetTop:1.64},upperCaseSize:21,upperCaseScale:1,lowerCaseSize:19,lowerCaseScale:.95,spaceScale:1,spaceSize:{frontSpace:5,char:23,behindSpace:15},iconSpace:0},large:{top:126,left:494,bracketSize:{char:25,bracketSpace:11,bracketOffsetTop:2},upperCaseSize:26,upperCaseScale:1.1,lowerCaseSize:23,lowerCaseScale:1,spaceScale:1.4,spaceSize:{frontSpace:5,char:23,behindSpace:15},iconSpace:32}},ue=[{top:126,left:46,width:50,height:51},{top:116,left:226,width:99,height:32},{top:126,left:453,width:51,height:51},{top:305,left:35,width:33,height:99},{top:0,left:0,width:0,height:0},{top:305,left:482,width:32,height:99},{top:534,left:46,width:50,height:50},{top:562,left:226,width:99,height:33},{top:534,left:453,width:51,height:50}],de={gold:{art:{left:2}},platinum:{art:{left:1}}},fe=function(e,t,n,a){if(e){var r="".concat(t).split(""),c=0;r.forEach((function(t){c+="1"===t?.65*e.measureText(t).width:e.measureText(t).width}));var i=n-c/2;r.forEach((function(t){e.fillText(t,"1"===t?i-3:i,a),i+="1"===t?.65*e.measureText(t).width:e.measureText(t).width}))}},he=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ae,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:re,i=S(t),o=0;if(e){var l=function(){for(var t={1:645,2:665,3:685},l=n?{body:i,flavorCondition:"",material:""}:k(i,a),s=l.body,u=l.flavorCondition,d=l.material,f=(d.length>0?1:0)+(u.length>0?1:0),h=s.split("\n"),b="\u25cf",p="#@\u221e",j=new RegExp("([".concat(p).concat("\\s-","])"),"g"),m=new RegExp(p,"g"),v=function(){var n,i=r[o],l=i.fontSize,s=i.lineHeight,v=i.lineCount,g=c[o],x=g.left,w=g.width,C=g.top,y=O(),k=1e3,S=Math.max(h.length,v);e.font="".concat(a?"italic":""," ").concat(l,"px MatrixBook"),e.textAlign="left";for(var T=function(t){var n=e.font,a=1.15*l;e.font=n.replace("MatrixBook","matrix").replace("".concat(l),"".concat(a)),t(),e.font=n},R=[];y.getIterateCount()>=0;){if(y.getIterateCount()<=0){k=y.getMedian();break}if((R=[],h.reduce((function(t,n){for(var a=y.getMedian()/1e3,r=w/a,c=n.split(j),i=1,o=[],l=0,s=function(t){var n=0;if(c[t]===b?n=15/a:m.test(c[t])?T((function(){n=e.measureText(c[t]).width})):n=e.measureText(c[t]).width,l+n>r){var s=o.join("").trim(),u=s.split(b);R.push({text:s,width:u.reduce((function(t,n){return t+e.measureText(n).width}),0)+15*(u.length-1)/a,isLast:!1}),l=n,o=[c[t]],i+=1}else l+=n,o.push(c[t])},u=0;u<c.length;u++)s(u);var d=o.join("").trim(),f=d.split(b);return R.push({text:d,width:f.reduce((function(t,n){return t+e.measureText(n).width}),0)+15*(f.length-1)/a,isLast:!0}),t+i}),0)+f)>S)y.searchDown();else{if(1e3===y.getMedian())break;k=y.reverseSearch()}}var N=function(e,t,n){e.beginPath(),e.arc(t+7,n-5.5,5.5,0,2*Math.PI,!1),e.fill(),e.lineWidth=1,e.strokeStyle="#003300",e.stroke()};if(!(k<(null!==(n=t["".concat(h.length)])&&void 0!==n?n:t[3]))){null===e||void 0===e||e.clearRect(0,0,549,750);var E=C+s;if(d.length>0){var I=e.measureText(d).width,A=Math.min(w/I,1);e.scale(A,1),e.fillText(d,x/A,E),E+=s,e.scale(1/A,1)}var P=k/1e3;if(R.forEach((function(t){var n=t.text,a=t.width,r=t.isLast?Math.min(P,1):w/a;if(r<=1){e.scale(r,1);var c=new RegExp("([".concat(b).concat(p,"])"),"g");n.split(c).reduce((function(t,n,a){var c=t;return a%2===0?(e.fillText(n,c/r,E),c+=e.measureText(n).width*r):n===b?(e.scale(1/r,1),N(e,c,E),c+=15,e.scale(r,1)):T((function(){e.fillText(n,c/r,E),c+=e.measureText(n).width*r})),c}),x),E+=s,e.scale(1/r,1)}else{var i=new RegExp("([".concat(b).concat(p," ])"),"g"),o=n.split(i);e.scale(1,1);var l=0,u=0;o.forEach((function(t){" "===t?u+=1:t===b?l+=15:m.test(t)?T((function(){return l+=e.measureText(t).width})):l+=e.measureText(t).width}));var d=u>0?(w-l)/u:0;o.reduce((function(t,n,a){var r=t;return a%2===0?(e.fillText(n,r,E),r+=e.measureText(n).width):n===b?(N(e,r,E),r+=15):" "===n?r+=d:T((function(){e.fillText(n,r,E),r+=e.measureText(n).width})),r}),x),E+=s}})),u.length>0){var F=e.measureText(u).width,L=Math.min(w/F,1);e.font="".concat(l,"px MatrixBook"),e.scale(L,1),e.fillText(u,x/L,E),E+=s,e.scale(1/L,1)}return"break"}o+=1};o<r.length;){if("break"===v())break}return{v:o}}();if("object"===typeof l)return l.v}return o},be=function(e,t,n,a,r){if(e){e.textAlign="left";var c=t.split(""),i=a;c.forEach((function(t){e.fillText(t,i,r),i+=e.measureText(t).width*(1+n/2)}))}},pe=function(e,t,n,a,r){if(e){e.textAlign="right";var c=t.split(""),i=a;return c.forEach((function(t,a){var o=c[c.length-a-1];e.fillText(o,i,r),i-=e.measureText(o).width*(1+n/2)})),i}return a},je=function(e,t){if(e){e.font="16px stone-serif-regular";var n=function(e,t,n,a){var r=t.split(n),c=r.map((function(t){return e.measureText(t).width})),i=e.measureText(n).width,o=c.reduce((function(e,t){return e+t}),0),l={splittedContent:r,splittedWidth:c,symbolWidth:i,totalCondensableWidth:o,condenseRatio:1};return o>0&&(l.condenseRatio=Math.min((a-(c.length-1)*i)/o,1)),l}(e,t,"\xa9",257),a=n.splittedContent,r=n.splittedWidth,c=n.symbolWidth,i=n.condenseRatio;i<1?(e.textAlign="left",e.scale(i,1),a.reduce((function(t,n,o){e.fillText(n,t/i,777);var l=t+r[o]*i;return o<a.length-1&&(e.scale(1/i,1),e.fillText("\xa9",l,777),l+=c,e.scale(i,1)),l}),239),e.scale(1/i,1)):(e.textAlign="right",pe(e,t,-.15,496/i,777)),e.textAlign="left"}},me=function(e,t,n,a){if(e){e.textAlign="left";var r="".concat(t).split("?"),c=r.reduce((function(t,n,a){e.font="25px MatrixBoldSmallCaps";var c=t+e.measureText(n).width;return a<r.length-1&&(e.font="25px matrix",c+=e.measureText("?").width),c}),0);if(c>0){var i=Math.min(49.94/c,1);e.scale(i,1),r.reduce((function(t,n,c,o){var l=o[o.length-1-c],s=t;return e.font="25px MatrixBoldSmallCaps",s-=e.measureText(l).width*i,e.fillText(l,s/i,a),c<r.length-1&&(e.font="bold 25px matrix",s-=e.measureText("?").width*i,e.fillText("?",s/i,a)),s}),n+49.94),e.scale(1/i,1)}}},ve=function(e,t,n,a){return function(r){if(e){var c=n.top,i=n.bracketSize,o=i.char,l=i.bracketOffsetTop,s="left"===a?1:-1;return e.font="bold ".concat(o,"px stone-serif-bold"),e.textAlign=a,e.fillText(t,r,c-l),r+e.measureText(t).width*s}return r}},ge=function(e,t,n){return function(a){return e?a+t.iconSpace*("left"===n?1:-1):a}},xe=function(e,t,n,a){return function(r){if(e){var c=n.top,i=n.bracketSize.bracketSpace,o="left"===a?1:-1;return e.font="bold ".concat(i,"px stone-serif-bold"),e.textAlign=a,e.fillText(t,r,c),r+e.measureText(t).width*o}return r}},Oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,c=a.top,i=a.spaceSize,o=i.frontSpace,l=i.char,s=i.behindSpace,u=a.upperCaseScale,d=a.upperCaseSize,f=a.lowerCaseScale,h=a.lowerCaseSize,b=a.spaceScale,p="left"===r?1:-1,j=function(e,t){var n=t;return e.font="bold ".concat(o,"px stone-serif-bold"),e.fillText(" ",n,c),n+=e.measureText(" ").width*p,e.font="oblique bold ".concat(l,"px stone-serif-bold"),e.scale(.65,1),e.fillText("/",n/.65,c),n+=.65*e.measureText("/").width*p,e.scale(1/.65,1),e.font="bold ".concat(s,"px stone-serif-bold"),e.fillText(" ",n,c),n+=e.measureText(" ").width*p};return function(a){var i=a;return e?(e.textAlign=r,n||"right"!==r||(i=j(e,i)),t.split("").forEach((function(t,n,a){var o="left"===r?a[n]:a[a.length-1-n];if(/[A-Z]/.test(o))e.font="bold ".concat(d,"px stone-serif-bold"),e.scale(u,1),e.fillText(o,i/u,c),i+=e.measureText(o).width*u*p,e.scale(1/u,1);else if(/\s/.test(o))e.font="bold ".concat(h,"px stone-serif-bold"),e.scale(b,1),e.fillText(o,i/b,c),i+=e.measureText(o).width*b*p,e.scale(1/b,1);else{var l=o.toLocaleUpperCase();e.font="bold ".concat(h,"px stone-serif-bold"),e.scale(f,1),e.fillText(l,i/f,c),i+=e.measureText(l).width*f*p,e.scale(1/f,1)}})),n||"left"!==r||(i=j(e,i)),i):i}},we={},Ce=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",new Promise((function(e){return e(!1)})));case 2:return e.abrupt("return",new Promise((function(e){var c;if(!0===(null===(c=we[n])||void 0===c?void 0:c.ready)){var i=we[n].image,o="number"===typeof a?a:a(i),l="number"===typeof r?r:r(i);t.drawImage(i,o,l),e(!0)}else{var s=new Image;s.src="/ygocarder"+n,s.onload=function(){var c="number"===typeof a?a:a(s),i="number"===typeof r?r:r(s);t.drawImage(s,c,i),we[n].ready=!0,e(!0)},s.onerror=function(){e(!1)},we[n]={image:s,ready:!1}}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ye=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a,r,c,i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",new Promise((function(e){return e(!1)})));case 2:return e.abrupt("return",new Promise((function(e){var o;if(!0===(null===(o=we[n])||void 0===o?void 0:o.ready)){var l=we[n].image,s="number"===typeof a?a:a(l),u="number"===typeof r?r:r(l);t.drawImage(l,s,u,c,i),e(!0)}else{var d=new Image;d.src="/ygocarder"+n,d.onload=function(){var o="number"===typeof a?a:a(d),l="number"===typeof r?r:r(d);t.drawImage(d,o,l,c,i),we[n].ready=!0,e(!0)},d.onerror=function(){e(!1)},we[n]={image:d,ready:!1}}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,i){return e.apply(this,arguments)}}(),ke=n(140),Se=n.n(ke),Te=n(281),Re=n(96),Ne=n(277);var Ee=function(){var e,t,n=Object(a.useState)(!0),r=Object(f.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),p=Object(f.a)(s,2),O=p[0],w=p[1],C=Object(a.useState)(b),y=Object(f.a)(C,2),k=y[0],T=y[1],R=Object(a.useRef)(null),N=Object(a.useRef)(null),E=Object(a.useRef)(null),I=Object(a.useRef)(null),A=Object(a.useRef)(null),P=Object(a.useRef)(null),F=Object(a.useRef)(null),M=Object(a.useRef)(null),B=Object(a.useRef)(null),_=Object(a.useRef)(null),z=Object(a.useRef)(null),D=Object(a.useRef)(null),U=Object(a.useRef)(null),H=Object(a.useRef)(null),W=Object(a.useRef)(null),G=Object(a.useRef)(null),Y=Object(a.useRef)(null),K=Object(a.useRef)(null),V=k.frame,q=k.foil,J=k.name,Q=k.nameStyleType,X=k.nameStyle,Z=k.pictureCrop,$=k.effect,ee=k.type_ability,te=k.isPendulum,ae=k.pendulum_effect,re=k.blue_scale,we=k.red_scale,ke=k.atk,Ee=k.def,Ie=k.link_map,Ae=k.attribute,Pe=k.subFamily,Fe=k.star,Le=k.set_id,Me=k.passcode,Be=k.isFirstEdition,_e=k.creator,ze=k.sticker,De="normal"===(t=k).frame&&g(t),Ue=m(k),He=v(k),We=g(k),Ge="medium",Ye=Object(a.useRef)({frame:function(){return Promise.resolve()},star:function(){return Promise.resolve()},attribute:function(){return Promise.resolve()},specialFrame:function(){return Promise.resolve()},sticker:function(){return Promise.resolve()}}),Ke=Object(a.useState)(0),Ve=Object(f.a)(Ke,2),qe=Ve[0],Je=Ve[1];Object(a.useEffect)((function(){var e,t=null===(e=E.current)||void 0===e?void 0:e.getContext("2d");Ye.current.frame=Object(d.a)(u.a.mark((function e(){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t.clearRect(0,0,549,800),n=x(V),a="normal"!==q,e.next=5,Ce(t,"/asset/image/frame/frame-".concat(n,".png"),0,0);case 5:if(!a){e.next=11;break}return r=de[q].art,e.next=9,Ce(t,"/asset/image/frame/frame-art-".concat(q,".png"),r.left,120);case 9:return e.next=11,Ce(t,"/asset/image/frame/frame-effect-".concat(q,".png"),0,580);case 11:case"end":return e.stop()}}),e)})))}),[q,V]),Object(a.useEffect)((function(){var e,t=null===(e=I.current)||void 0===e?void 0:e.getContext("2d"),n=R.current;n&&t&&(t.clearRect(0,0,548,650),te?t.drawImage(n,38,144,474,470):t.drawImage(n,67,147,416,416))}),[te,qe]),Object(a.useEffect)((function(){var e,t=null===(e=A.current)||void 0===e?void 0:e.getContext("2d");Ye.current.specialFrame=Object(d.a)(u.a.mark((function e(){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||t.clearRect(0,0,549,800),n="normal"!==q,a=x(V),!te||He){e.next=12;break}if(Ue){e.next=7;break}return e.next=7,Ce(t,"/asset/image/pendulum/overlay-pendulum-".concat(a,".png"),0,0);case 7:return e.next=9,Ce(t,"/asset/image/frame/frame-pendulum-".concat(Ge,".png"),0,0);case 9:if(!n){e.next=12;break}return e.next=12,Ce(t,"/asset/image/frame/frame-pendulum-".concat(Ge,"-").concat(q,".png"),0,0);case 12:return r=n?"/asset/image/frame/frame-border-".concat(q,".png"):"/asset/image/frame/frame-border.png",e.next=15,Ce(t,r,0,0);case 15:if(te||!He){e.next=29;break}if(!n){e.next=21;break}return e.next=19,Ce(t,"./asset/image/link/link-overlay-".concat(q,".png"),0,110);case 19:e.next=23;break;case 21:return e.next=23,Ce(t,"/asset/image/link/link-overlay.png",66,146);case 23:if(!n){e.next=26;break}return e.next=26,Ce(t,"/asset/image/link/link-overlay-arrow-".concat(q,".png"),0,110);case 26:return e.next=28,Promise.all(Ie.map((function(e){var a=ue[parseInt(e)-1],r=a.left,c=a.top,i=a.height,o=a.width;return ye(t,n?"/asset/image/link/link-arrow-".concat(e,"-").concat(q,".png"):"/asset/image/link/link-arrow-".concat(e,".png"),r,c,o,i)})));case 28:t&&(t.textAlign="right",t.scale(1.2,1),t.font="bold 24px Yugioh Rush Duel Numbers V4",t.fillText("".concat(Ie.length),505/1.2,746),t.scale(1/1.2,1),t.textAlign="left");case 29:case"end":return e.stop()}}),e)})))}),[q,V,He,te,Ue,Ie]),Object(a.useEffect)((function(){var e,t=null===(e=D.current)||void 0===e?void 0:e.getContext("2d");Ye.current.attribute=function(){return null===t||void 0===t||t.clearRect(0,0,549,100),Ce(t,"/asset/image/attribute/attr-".concat(Ae.toLowerCase(),".png"),458,37)}}),[Ae]),Object(a.useEffect)((function(){var e,t=null===(e=P.current)||void 0===e?void 0:e.getContext("2d");Ye.current.star=function(){if(null===t||void 0===t||t.clearRect(0,0,549,150),We&&!He){var e=Math.min(13,null!==Fe&&void 0!==Fe?Fe:0),n=Ue?"rank":"level",a=-36.3636,r=34*e+2.3636*(e-1),c=e<=12?Ue?23:492:Ue?(549-r)/2-34:(549-r)/2+r;return Promise.all(Object(l.a)(Array(e)).map((function(){return a+=36.3636,Ce(t,"/asset/image/sub-family/subfamily-".concat(n,".png"),c+(34+a)*(Ue?1:-1),99)})))}if(!We){var i=Pe.toUpperCase();return"no icon"!==i&&j.includes(i)?ye(t,"/asset/image/sub-family/subfamily-".concat(i,".png"),(function(e){return 491-e.naturalWidth-7}),103,29,29):new Promise((function(e){return e(!0)}))}return new Promise((function(e){return e(!0)}))}}),[He,We,Ue,Fe,Pe]),Object(a.useEffect)((function(){var e,t=null===(e=F.current)||void 0===e?void 0:e.getContext("2d");if(null===t||void 0===t||t.clearRect(0,0,549,600),t&&te){t.font="".concat(43,"px MatrixBoldSmallCaps"),t.textAlign="left",fe(t,null!==re&&void 0!==re?re:0,57,575),fe(t,null!==we&&void 0!==we?we:0,493,575)}}),[c,re,te,we]),Object(a.useEffect)((function(){var e,t=null===(e=z.current)||void 0===e?void 0:e.getContext("2d");if(t){t.clearRect(0,0,549,100),t.textAlign="left";var n="auto"===Q?Object(o.a)(Object(o.a)({},h),{},{fillStyle:Ue?"#ffffff":"#000000"}):X;!function(e,t,n,a,r,c){if(e){e.fillStyle=c.fillStyle;var i=S(t).split(/([^&A-Za-z0-9\-/\s()])/g),o=i.reduce((function(t,n,a){return e.font=a%2===0?"64.59px MatrixRegularSmallCaps":"54.59px matrix",t+e.measureText(n).width}),0);if(o>0){var l=Math.min(r/o,1);e.scale(l,1),i.reduce((function(t,n,r){return e.font=r%2===0?"64.59px MatrixRegularSmallCaps":"small-caps 54.59px matrix",e.fillText(n,t/l,a),t+e.measureText(n).width*l}),n),e.scale(1/l,1),e.fillStyle=h.fillStyle}}}(t,J,40.52,78,409,n)}}),[c,Ue,J,X,Q]),Object(a.useEffect)((function(){var e,t=null===(e=U.current)||void 0===e?void 0:e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,549,800),We&&(me(t,ke,343.51,747),He||me(t,Ee,454.93,747))}),[c,ke,Ee,He,We]),Object(a.useEffect)((function(){var e,t=null===(e=H.current)||void 0===e?void 0:e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,549,800),t&&(t.fillStyle=Ue&&!te?"#fff":"#000",t.font="15px stone-serif-regular",te?be(t,Le,-.1,44,746):He?be(t,Le,-.1,367,590):pe(t,Le,-.1,492,589))}),[c,He,te,Ue,Le]),Object(a.useEffect)((function(){var e,t=null===(e=W.current)||void 0===e?void 0:e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,549,800),t&&(t.fillStyle=Ue&&!te?"#fff":"#000",t.font="15px stone-serif-regular",be(t,Me,-.1,25,777))}),[c,He,te,Ue,Me]),Object(a.useEffect)((function(){var e,t=null===(e=G.current)||void 0===e?void 0:e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,549,800),t&&!0===Be&&(t.fillStyle=Ue&&!te?"#fff":"#000",function(e){if(e){e.font="bold 16px palatino-linotype-bold";var t=95;e.fillText("1",t,777),t+=e.measureText("1").width-2,e.font="bold 12px palatino-linotype-bold",e.fillText("st",t,772),t+=e.measureText("st").width,e.font="bold 15px palatino-linotype-bold",e.fillText(" Edition",t,777)}}(t))}),[c,He,te,Ue,Be]),Object(a.useEffect)((function(){var e,t=null===(e=Y.current)||void 0===e?void 0:e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,549,800),t&&(t.fillStyle=Ue&&!te?"#fff":"#000",je(t,_e))}),[c,He,te,Ue,_e]),Object(a.useEffect)((function(){var e,t=null===(e=K.current)||void 0===e?void 0:e.getContext("2d");Ye.current.sticker=function(){return null===t||void 0===t||t.clearRect(0,0,549,800),Ce(t,"/asset/image/sticker/sticker-".concat(ze.toLowerCase(),".png"),499,750)}}),[ze]);var Qe=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se.medium,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if(e){null===e||void 0===e||e.clearRect(0,0,549,700);var a=t.left,r=Pe.toUpperCase(),c=[ve(e,"[",t,n),xe(e," ",t,n)].concat(Object(l.a)(ee.map((function(a,r){return Oe(e,a,r===ee.length-1,t,n)}))),["NO ICON"===r?function(e){return e+4*("left"===n?1:-1)}:ge(e,t,n),ve(e,"]",t,n)]);("left"===n?c:c.reverse()).reduce((function(e,t){return t(e)}),a),e.textAlign="left"}}),[Pe,ee]);Object(a.useEffect)((function(){var e,t,n=null===(e=_.current)||void 0===e?void 0:e.getContext("2d"),a=null===(t=B.current)||void 0===t?void 0:t.getContext("2d");if(null===n||void 0===n||n.clearRect(0,0,549,750),We){var r=he(n,$,!1,De);Qe(a,0===r?se.medium:se.small)}else he(n,$,!1,!1,oe,le),Qe(a,se.large,"right")}),[c,Qe,$,We,De]),Object(a.useEffect)((function(){var e,t=null===(e=M.current)||void 0===e?void 0:e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,549,600),We&&te&&he(t,ae,!0,!1,ce,ie)}),[c,We,te,ae]),Object(a.useEffect)((function(){var e,t=null===(e=N.current)||void 0===e?void 0:e.getContext("2d");if(t){var n=window.devicePixelRatio;t.setTransform(n,0,0,n,0,0),t.imageSmoothingQuality="high",t.clearRect(0,0,549,800)}Se.a.load({custom:{families:["stone-serif-bold","stone-serif-bold","stone-serif-regular","matrix","palatino-linotype-bold","MatrixBook","MatrixBoldSmallCaps","MatrixRegularSmallCaps","Yugioh Rush Duel Numbers V4"],urls:["asset/font.css"]},active:function(){var e=window.localStorage.getItem("card-version"),t=window.localStorage.getItem("card-data");null!==t&&"1.0.1"===e&&T(JSON.parse(t)),i(!1)},inactive:function(){w("Font could not be loaded"),i(!1)}})}),[]);var Xe=Object(a.useRef)({currentPipeline:Promise.resolve(),queuedPipeline:!1});Object(a.useEffect)((function(){var e,t=!0;!1===c&&(localStorage.setItem("card-data",JSON.stringify(k)),localStorage.setItem("card-version",null!==(e="1.0.1")?e:"unknown"));return Object(d.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.current){e.next=12;break}return null===(n=document.querySelector("#export-canvas-guard"))||void 0===n||n.setAttribute("style",""),Xe.current.queuedPipeline=!0,e.next=6,Xe.current.currentPipeline;case 6:if(!t){e.next=12;break}return Xe.current.currentPipeline=Ze({isPendulum:te}),Xe.current.queuedPipeline=!1,e.next=11,Xe.current.currentPipeline;case 11:t&&(null===(a=document.querySelector("#export-canvas-guard"))||void 0===a||a.setAttribute("style","display: none"));case 12:case"end":return e.stop()}}),e)})))(),function(){t=!1}}));var Ze=Object(a.useRef)(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,c,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.isPendulum,a=void 0!==n&&n,r=N.current,c=null===r||void 0===r?void 0:r.getContext("2d"),i=function(e,t){return new Promise((function(n){if(e.current&&t){var a=e.current.toDataURL("image/png");if(a){var r=new Image;r.src=a,r.onload=function(){t.drawImage(r,0,0),n(!0)},r.onerror=function(){return n(!1)}}else n(!1)}else n(!1)}))},!r||!c){e.next=17;break}return c.clearRect(0,0,549,800),e.next=8,Promise.all(Object.values(Ye.current).map((function(e){return e()})));case 8:return e.next=10,i(E,c);case 10:return(o=R.current)&&c&&(a?c.drawImage(o,38,144,474,470):c.drawImage(o,67,147,416,416)),e.next=14,i(A,c);case 14:return l=[z,D,P,F,M,B,_,U,H,G,W,Y,K],e.next=17,Promise.all([l.map((function(e){return i(e,c)}))]);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).current;return Object(L.jsxs)("div",{className:"app-container",style:{backgroundImage:'url("'.concat("/ygocarder",'/asset/image/texture/debut-dark.png"), linear-gradient(180deg, #00000022, #00000044)')},children:[c&&Object(L.jsx)("div",{className:"full-loading",children:O.length>0?Object(L.jsx)("span",{style:{color:"#e04040"},children:O}):"Loading fonts and scripts..."}),Object(L.jsx)("div",{className:"card-filter-panel"}),!1===c&&Object(L.jsxs)(ne,{receivingCanvasRef:R.current,currentCard:k,onCardChange:T,defaultCropInfo:Z,onImageChange:function(e){Je((function(e){return e+1})),e&&T((function(t){return Object(o.a)(Object(o.a)({},t),{},{pictureCrop:e})}))},children:[Object(L.jsxs)("div",{className:"app-header",children:[Object(L.jsx)("img",{alt:"app-logo",src:"".concat("/ygocarder","/logo192.png"),width:48}),Object(L.jsxs)("div",{className:"app-description",children:[Object(L.jsxs)("h1",{children:["Yugioh Carder ",Object(L.jsxs)("small",{children:["v",null!==(e="1.0.1")?e:"unknown"]})]}),Object(L.jsxs)("div",{className:"app-contribution",children:[Object(L.jsxs)("span",{children:["GUI: ",Object(L.jsx)("b",{children:"Lauqerm"})]}),Object(L.jsxs)("span",{children:["Template: ",Object(L.jsx)("b",{children:"Grezar"})," and others (",Object(L.jsx)("a",{href:"https://www.deviantart.com/grezar/art/SKILL-UPDATE-Series-10-Card-Proxy-Template-686736691",target:"_blank",rel:"noreferrer",children:"Deviant Art"}),")"]}),Object(L.jsx)(Ne.a,{overlayClassName:"disclaimer-overlay",content:Object(L.jsxs)("div",{className:"disclaimer",children:[Object(L.jsx)("h2",{children:"Disclaimer"}),Object(L.jsxs)("ul",{children:[Object(L.jsx)("li",{children:'This is a personal project, not an "official" card maker.'}),Object(L.jsx)("li",{children:"I holds no liability for cards created by this app, including picture, card text and any product that related to it."}),Object(L.jsx)("li",{children:"I do not own any of Yu-Gi-Oh card layers and fonts use in this project."})]})]}),children:Object(L.jsx)(Te.a,{className:"disclaimer-icon"})})]})]})]}),Object(L.jsx)("br",{})]}),Object(L.jsxs)("div",{className:"card-preview-panel",children:[Object(L.jsxs)("button",{className:"export-button",children:["Save Card:",Object(L.jsx)("br",{}),'Right click the card \u2192 "Save image as..." / "Copy Image"']}),Object(L.jsxs)("div",{className:"card-canvas-group",children:[Object(L.jsx)("canvas",{id:"export-canvas",ref:N,width:549,height:800}),Object(L.jsxs)("div",{id:"export-canvas-guard",children:[Object(L.jsx)("div",{className:"canvas-guard-alert",children:"Generating..."}),Object(L.jsx)(Re.a,{})]}),Object(L.jsx)("canvas",{id:"frameCanvas",ref:E,width:549,height:800}),Object(L.jsx)("canvas",{id:"artCanvas",ref:I,width:549,height:650}),Object(L.jsx)("canvas",{id:"specialFrameCanvas",ref:A,width:549,height:800}),Object(L.jsx)("canvas",{id:"nameCanvas",ref:z,width:549,height:100}),Object(L.jsx)("canvas",{id:"attributeCanvas",ref:D,width:549,height:100}),Object(L.jsx)("canvas",{id:"subFamilyCanvas",ref:P,width:549,height:150}),Object(L.jsx)("canvas",{id:"pendulumScaleCanvas",ref:F,width:549,height:600}),Object(L.jsx)("canvas",{id:"pendulumEffectCanvas",ref:M,width:549,height:600}),Object(L.jsx)("canvas",{id:"typeCanvas",ref:B,width:549,height:700}),Object(L.jsx)("canvas",{id:"effectCanvas",ref:_,width:549,height:750}),Object(L.jsx)("canvas",{id:"ADCanvas",ref:U,width:549,height:800}),Object(L.jsx)("canvas",{id:"setId",ref:H,width:549,height:800}),Object(L.jsx)("canvas",{id:"passcode",ref:W,width:549,height:800}),Object(L.jsx)("canvas",{id:"firstEdition",ref:G,width:549,height:800}),Object(L.jsx)("canvas",{id:"creator",ref:Y,width:549,height:800}),Object(L.jsx)("canvas",{id:"sticker",ref:K,width:549,height:800}),Object(L.jsx)("canvas",{className:"crop-canvas",ref:R})]})]})]})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,282)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(Ee,{})}),document.getElementById("root")),Ie()},98:function(e,t,n){}},[[270,1,2]]]);
//# sourceMappingURL=main.60d228ff.chunk.js.map